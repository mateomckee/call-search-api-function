(()=>{"use strict";var e={313:function(e,t){var n,r,o,i=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InvocationContext=void 0,t.InvocationContext=class{constructor(e){var t,r,o,s;n.set(this,void 0),e=e||{};const l="unknown";this.invocationId=e.invocationId||l,this.functionName=e.functionName||l,this.extraInputs=new a,this.extraOutputs=new u,this.retryContext=e.retryContext,this.traceContext=e.traceContext,this.triggerMetadata=e.triggerMetadata,this.options={trigger:(null===(t=e.options)||void 0===t?void 0:t.trigger)||{name:l,type:l},return:null===(r=e.options)||void 0===r?void 0:r.return,extraInputs:(null===(o=e.options)||void 0===o?void 0:o.extraInputs)||[],extraOutputs:(null===(s=e.options)||void 0===s?void 0:s.extraOutputs)||[]},i(this,n,e.logHandler||c,"f")}log(...e){s(this,n,"f").call(this,"information",...e)}trace(...e){s(this,n,"f").call(this,"trace",...e)}debug(...e){s(this,n,"f").call(this,"debug",...e)}info(...e){s(this,n,"f").call(this,"information",...e)}warn(...e){s(this,n,"f").call(this,"warning",...e)}error(...e){s(this,n,"f").call(this,"error",...e)}},n=new WeakMap;class a{constructor(){r.set(this,{})}get(e){const t="string"==typeof e?e:e.name;return s(this,r,"f")[t]}set(e,t){const n="string"==typeof e?e:e.name;s(this,r,"f")[n]=t}}r=new WeakMap;class u{constructor(){o.set(this,{})}get(e){const t="string"==typeof e?e:e.name;return s(this,o,"f")[t]}set(e,t){const n="string"==typeof e?e:e.name;s(this,o,"f")[n]=t}}function c(e,...t){switch(e){case"trace":console.trace(...t);break;case"debug":console.debug(...t);break;case"information":console.info(...t);break;case"warning":console.warn(...t);break;case"critical":case"error":console.error(...t);break;default:console.log(...t)}}o=new WeakMap},62:function(e,t,n){var r,o,i,s,a,u,c,l,f,p,d=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},g=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},h=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.InvocationModel=void 0;const y=n(764),v=n(313),b=n(601),m=n(168),w=n(130),O=n(243),j=n(408),x=n(788),P=n(186),T=n(828),_=n(674),B=n(557);t.InvocationModel=class{constructor(e){r.add(this),o.set(this,!1),i.set(this,void 0),s.set(this,void 0),a.set(this,void 0),u.set(this,void 0),g(this,i,e,"f"),g(this,s,(0,B.nonNullProp)(e.metadata,"name"),"f"),g(this,a,(0,B.nonNullProp)(e.metadata,"bindings"),"f");const t=(0,B.nonNullValue)(Object.values(h(this,a,"f")).find((e=>(0,_.isTrigger)(e.type))),"triggerBinding");g(this,u,(0,B.nonNullProp)(t,"type"),"f")}getArguments(){return d(this,void 0,void 0,(function*(){const e=h(this,i,"f").request,t=new v.InvocationContext({invocationId:(0,B.nonNullProp)(h(this,i,"f"),"invocationId"),functionName:h(this,s,"f"),logHandler:(e,...t)=>h(this,r,"m",p).call(this,e,...t),retryContext:(0,w.fromRpcRetryContext)(e.retryContext),traceContext:(0,w.fromRpcTraceContext)(e.traceContext),triggerMetadata:(0,O.fromRpcTriggerMetadata)(e.triggerMetadata,h(this,u,"f")),options:(0,m.fromRpcBindings)(h(this,a,"f"))}),n=[];if(e.inputData)for(const r of e.inputData){const e=(0,B.nonNullProp)(r,"name");let o=(0,j.fromRpcTypedData)(r.data);const i=h(this,a,"f")[e].type;(0,_.isTimerTrigger)(i)&&(o=(0,x.toCamelCaseValue)(o)),(0,_.isTrigger)(i)?n.push(o):t.extraInputs.set(e,o)}return{context:t,inputs:n}}))}invokeFunction(e,t,n){return d(this,void 0,void 0,(function*(){try{return yield Promise.resolve(n(t[0],e))}finally{g(this,o,!0,"f")}}))}getResponse(e,t){return d(this,void 0,void 0,(function*(){const n={invocationId:h(this,i,"f").invocationId,outputData:[]};let o=!1;for(const[i,s]of Object.entries(h(this,a,"f")))if("out"===s.direction)if(i===b.returnBindingKey)n.returnValue=yield h(this,r,"m",c).call(this,s,t),o=!0;else{const t=yield h(this,r,"m",c).call(this,s,e.extraOutputs.get(i));(0,B.isDefined)(t)&&n.outputData.push({name:i,data:t})}return o||(0,_.isHttpTrigger)(h(this,u,"f"))||(n.returnValue=(0,T.toRpcTypedData)(t)),n}))}},o=new WeakMap,i=new WeakMap,s=new WeakMap,a=new WeakMap,u=new WeakMap,r=new WeakSet,c=function(e,t){var n;return d(this,void 0,void 0,(function*(){return"http"===(null===(n=e.type)||void 0===n?void 0:n.toLowerCase())?(0,P.toRpcHttp)(t):(0,T.toRpcTypedData)(t)}))},l=function(e,t,...n){h(this,i,"f").log(e,t,(0,y.format)(...n))},f=function(e,...t){h(this,r,"m",l).call(this,e,"system",...t)},p=function(e,...t){if(h(this,o,"f")&&"postInvocationHooks"!==h(this,i,"f").state){let e="Warning: Unexpected call to 'log' on the context object after function execution has completed. Please check for asynchronous calls that are not awaited. ";e+=`Function name: ${h(this,s,"f")}. Invocation Id: ${h(this,i,"f").invocationId}.`,h(this,r,"m",f).call(this,"warning",e)}h(this,r,"m",l).call(this,e,"user",...t)}},109:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.addBindingName=t.InvocationContext=t.HttpResponse=t.HttpRequest=void 0;var r=n(726);Object.defineProperty(t,"HttpRequest",{enumerable:!0,get:function(){return r.HttpRequest}});var o=n(681);Object.defineProperty(t,"HttpResponse",{enumerable:!0,get:function(){return o.HttpResponse}});var i=n(313);Object.defineProperty(t,"InvocationContext",{enumerable:!0,get:function(){return i.InvocationContext}});const s={};t.addBindingName=function(e,t){if(!e.name){let n=e.type;n.toLowerCase().endsWith(t.toLowerCase())||(n+=t);let r=s[n]||0;r+=1,s[n]=r,e.name=n+r.toString()}return e}},752:function(e,t,n){var r=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(n[r[o]]=e[r[o]])}return n};Object.defineProperty(t,"__esModule",{value:!0}),t.generic=t.cosmosDB=t.eventGrid=t.eventHub=t.serviceBusTopic=t.serviceBusQueue=t.storageQueue=t.storageBlob=t.timer=t.http=t.deleteRequest=t.patch=t.post=t.put=t.get=void 0;const o=n(62),i=n(601),s=n(133),a=n(854),u=n(892),c=n(674);let l;function f(){if(void 0===l)try{l=n(605)}catch(e){l=null}return l}class p{constructor(){this.name="@azure/functions",this.version=i.version}getInvocationModel(e){return new o.InvocationModel(e)}}let d=!1;function g(e,t){const n="function"==typeof e?{handler:e}:e;return n.methods=[t],n}function h(e,t){const{handler:n,return:o,trigger:i,extraInputs:s,extraOutputs:a}=e,u=r(e,["handler","return","trigger","extraInputs","extraOutputs"]);return{trigger:null!=i?i:t(u),return:o,extraInputs:s,extraOutputs:a,handler:n}}function y(e,t){t.return||(t.return=a.http({})),v(e,h(t,u.http))}function v(e,t){d||function(){const e=f();e?e.setProgrammingModel(new p):console.warn('WARNING: Failed to detect the Azure Functions runtime. Switching "@azure/functions" package to test mode - not all features are supported.'),d=!0}();const n={},r=t.trigger;if(n[r.name]=Object.assign(Object.assign({},r),{direction:"in",type:(0,c.isTrigger)(r.type)?r.type:r.type+"Trigger"}),t.extraInputs)for(const e of t.extraInputs)n[e.name]=Object.assign(Object.assign({},e),{direction:"in"});if(t.return&&(t.return.name=i.returnBindingKey,n[t.return.name]=Object.assign(Object.assign({},t.return),{direction:"out"})),t.extraOutputs)for(const e of t.extraOutputs)n[e.name]=Object.assign(Object.assign({},e),{direction:"out"});let o;t.retry&&(o=Object.assign(Object.assign({},t.retry),{retryStrategy:t.retry.strategy,delayInterval:(0,s.toRpcDuration)(t.retry.delayInterval,"retry.delayInterval"),maximumInterval:(0,s.toRpcDuration)(t.retry.maximumInterval,"retry.maximumInterval"),minimumInterval:(0,s.toRpcDuration)(t.retry.minimumInterval,"retry.minimumInterval")}));const a=f();a?a.registerFunction({name:e,bindings:n,retryOptions:o},t.handler):console.warn(`WARNING: Skipping call to register function "${e}" because the "@azure/functions" package is in test mode.`)}t.get=function(e,t){y(e,g(t,"GET"))},t.put=function(e,t){y(e,g(t,"PUT"))},t.post=function(e,t){y(e,g(t,"POST"))},t.patch=function(e,t){y(e,g(t,"PATCH"))},t.deleteRequest=function(e,t){y(e,g(t,"DELETE"))},t.http=y,t.timer=function(e,t){v(e,h(t,u.timer))},t.storageBlob=function(e,t){v(e,h(t,u.storageBlob))},t.storageQueue=function(e,t){v(e,h(t,u.storageQueue))},t.serviceBusQueue=function(e,t){v(e,h(t,u.serviceBusQueue))},t.serviceBusTopic=function(e,t){v(e,h(t,u.serviceBusTopic))},t.eventHub=function(e,t){v(e,h(t,u.eventHub))},t.eventGrid=function(e,t){v(e,h(t,u.eventGrid))},t.cosmosDB=function(e,t){v(e,h(t,u.cosmosDB))},t.generic=v},601:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.returnBindingKey=t.version=void 0,t.version="4.0.1",t.returnBindingKey="$return"},168:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromRpcBindings=void 0;const r=n(601),o=n(674),i=n(557);function s(e,t){return Object.assign(Object.assign({},t),{type:(0,i.nonNullProp)(t,"type"),name:e})}t.fromRpcBindings=function(e){let t,n;const a=[],u=[];for(const[c,l]of Object.entries((0,i.nonNullValue)(e,"bindings")))(0,o.isTrigger)(l.type)?t=s(c,l):c===r.returnBindingKey?n=s(c,l):"in"===l.direction?a.push(s(c,l)):"out"===l.direction&&u.push(s(c,l));return{trigger:(0,i.nonNullValue)(t,"trigger"),return:n,extraInputs:a,extraOutputs:u}}},130:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromRpcTraceContext=t.fromRpcRetryContext=void 0;const r=n(557);t.fromRpcRetryContext=function(e){if(e){const t={retryCount:(0,r.nonNullProp)(e,"retryCount"),maxRetryCount:(0,r.nonNullProp)(e,"maxRetryCount")};return e.exception&&(t.exception=function(e){const t={};return(0,r.copyPropIfDefined)(e,t,"message"),(0,r.copyPropIfDefined)(e,t,"source"),(0,r.copyPropIfDefined)(e,t,"stackTrace"),t}(e.exception)),t}},t.fromRpcTraceContext=function(e){if(e){const t={};return(0,r.copyPropIfDefined)(e,t,"traceParent"),(0,r.copyPropIfDefined)(e,t,"traceState"),e.attributes&&(t.attributes=e.attributes),t}}},691:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromNullableMapping=void 0,t.fromNullableMapping=function(e,t){let n={};if(e&&Object.keys(e).length>0)for(const t in e)n[t]=e[t].value||"";else t&&Object.keys(t).length>0&&(n=t);return n}},243:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromRpcTriggerMetadata=void 0;const r=n(674),o=n(408),i=n(788);t.fromRpcTriggerMetadata=function(e,t){if(e&&!(0,r.isHttpTrigger)(t)&&!(0,r.isTimerTrigger)(t)){const t={};for(const[n,r]of Object.entries(e))t[(0,i.toCamelCaseKey)(n)]=(0,i.toCamelCaseValue)((0,o.fromRpcTypedData)(r));return t}}},408:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.fromRpcTypedData=void 0;const r=n(726),o=n(557);function i(e){try{return JSON.parse(e)}catch(t){return e}}t.fromRpcTypedData=function(e){return e?(0,o.isDefined)(e.string)?i(e.string):(0,o.isDefined)(e.json)?JSON.parse(e.json):(0,o.isDefined)(e.bytes)?Buffer.from(e.bytes):(0,o.isDefined)(e.stream)?Buffer.from(e.stream):(0,o.isDefined)(e.http)?new r.HttpRequest(e.http):(0,o.isDefined)(e.int)?e.int:(0,o.isDefined)(e.double)?e.double:e.collectionBytes&&(0,o.isDefined)(e.collectionBytes.bytes)?e.collectionBytes.bytes.map((e=>Buffer.from(e))):e.collectionString&&(0,o.isDefined)(e.collectionString.string)?e.collectionString.string.map(i):e.collectionDouble&&(0,o.isDefined)(e.collectionDouble.double)?e.collectionDouble.double:e.collectionSint64&&(0,o.isDefined)(e.collectionSint64.sint64)?e.collectionSint64.sint64:void 0:void 0}},788:(e,t)=>{function n(e){return e.charAt(0).toLowerCase()+e.slice(1)}Object.defineProperty(t,"__esModule",{value:!0}),t.toCamelCaseKey=t.toCamelCaseValue=void 0,t.toCamelCaseValue=function e(t){if("object"!=typeof t||null===t)return t;if(Array.isArray(t))return t.map(e);{const r={};for(const[o,i]of Object.entries(t))r[n(o)]=e(i);return r}},t.toCamelCaseKey=n},133:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcDuration=void 0;const r=n(758),o=n(557);t.toRpcDuration=function(e,t){if((0,o.isDefined)(e)){try{let t;if("object"==typeof e){const n=(e.minutes||0)+60*(e.hours||0),r=(e.seconds||0)+60*n;t=(e.milliseconds||0)+1e3*r}else"number"==typeof e&&(t=e);if((0,o.isDefined)(t)&&t>=0)return{seconds:Math.round(t/1e3)}}catch(e){}throw new r.AzFuncSystemError(`A 'number' or 'Duration' object was expected instead of a '${typeof e}'. Cannot parse value of '${t}'.`)}}},186:function(e,t,n){var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))};Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcHttp=void 0;const o=n(758),i=n(681),s=n(518),a=n(828);t.toRpcHttp=function(e){return r(this,void 0,void 0,(function*(){if(null==e)return e;if("object"!=typeof e)throw new o.AzFuncSystemError('The HTTP response must be an object with optional properties "body", "status", "headers", and "cookies".');const t=e instanceof i.HttpResponse?e:new i.HttpResponse(e),n={};n.statusCode=t.status.toString(),n.headers={};for(const[e,r]of t.headers.entries())n.headers[e]=r;n.cookies=[];for(const e of t.cookies)n.cookies.push((0,s.toRpcHttpCookie)(e));n.enableContentNegotiation=t.enableContentNegotiation;const r=yield t.arrayBuffer();return n.body=(0,a.toRpcTypedData)(r),{http:n}}))}},518:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcHttpCookie=void 0;const r=n(679);t.toRpcHttpCookie=function(e){let t="none";if(e&&e.sameSite){const n=e.sameSite.toLocaleLowerCase();"lax"===n?t="lax":"strict"===n?t="strict":"none"===n&&(t="explicitNone")}return{name:e&&(0,r.toRpcString)(e.name,"cookie.name"),value:e&&(0,r.toRpcString)(e.value,"cookie.value"),domain:(0,r.toNullableString)(e&&e.domain,"cookie.domain"),path:(0,r.toNullableString)(e&&e.path,"cookie.path"),expires:(0,r.toNullableTimestamp)(e&&e.expires,"cookie.expires"),secure:(0,r.toNullableBool)(e&&e.secure,"cookie.secure"),httpOnly:(0,r.toNullableBool)(e&&e.httpOnly,"cookie.httpOnly"),sameSite:t,maxAge:(0,r.toNullableDouble)(e&&e.maxAge,"cookie.maxAge")}}},679:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toNullableTimestamp=t.toNullableString=t.toRpcString=t.toNullableDouble=t.toNullableBool=void 0;const r=n(758),o=n(557);t.toNullableBool=function(e,t){if("boolean"==typeof e)return{value:e};if((0,o.isDefined)(e))throw new r.AzFuncSystemError(`A 'boolean' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableDouble=function(e,t){if("number"==typeof e)return{value:e};if("string"==typeof e&&!isNaN(Number(e)))return{value:parseFloat(e)};if((0,o.isDefined)(e))throw new r.AzFuncSystemError(`A 'number' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toRpcString=function(e,t){if("string"==typeof e)return e;if((0,o.isDefined)(e))throw new r.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`);return""},t.toNullableString=function(e,t){if("string"==typeof e)return{value:e};if((0,o.isDefined)(e))throw new r.AzFuncSystemError(`A 'string' type was expected instead of a '${typeof e}' type. Cannot parse value of '${t}'.`)},t.toNullableTimestamp=function(e,t){if((0,o.isDefined)(e))try{const t="number"==typeof e?e:e.getTime();if(t&&t>=0)return{value:{seconds:Math.round(t/1e3)}}}catch(n){throw new r.AzFuncSystemError(`A 'number' or 'Date' input was expected instead of a '${typeof e}'. Cannot parse value of '${t}'.`)}}},828:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.toRpcTypedData=void 0,t.toRpcTypedData=function(e){return null==e?e:"string"==typeof e?{string:e}:Buffer.isBuffer(e)?{bytes:e}:ArrayBuffer.isView(e)?{bytes:new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}:e instanceof ArrayBuffer?{bytes:new Uint8Array(e)}:"number"==typeof e?Number.isInteger(e)?{int:e}:{double:e}:{json:JSON.stringify(e)}}},758:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isError=t.ensureErrorType=t.ReadOnlyError=t.AzFuncRangeError=t.AzFuncTypeError=t.AzFuncSystemError=void 0;class n extends Error{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncSystemError=n;class r extends TypeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncTypeError=r;class o extends RangeError{constructor(){super(...arguments),this.isAzureFunctionsSystemError=!0}}t.AzFuncRangeError=o,t.ReadOnlyError=class extends r{constructor(e){super(`Cannot assign to read only property '${e}'`)}},t.ensureErrorType=function(e){if(e instanceof Error)return e;{let t;return t=null==e?"Unknown error":"string"==typeof e?e:"object"==typeof e?JSON.stringify(e):String(e),new Error(t)}},t.isError=function(e){return null!=e}},726:function(e,t,n){var r,o,i,s=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},a=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},u=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpRequest=void 0;const c=n(122),l=n(360),f=n(691),p=n(557),d=n(21);t.HttpRequest=class{constructor(e){var t,n,s;r.set(this,void 0),o.set(this,void 0),i.set(this,void 0);const d=(0,p.nonNullProp)(e,"url");(null===(t=e.body)||void 0===t?void 0:t.bytes)?a(this,i,Buffer.from(null===(n=e.body)||void 0===n?void 0:n.bytes),"f"):(null===(s=e.body)||void 0===s?void 0:s.string)&&a(this,i,e.body.string,"f"),a(this,o,new c.Request(d,{body:u(this,i,"f"),method:(0,p.nonNullProp)(e,"method"),headers:(0,f.fromNullableMapping)(e.nullableHeaders,e.headers)}),"f"),this.query=new l.URLSearchParams((0,f.fromNullableMapping)(e.nullableQuery,e.query)),this.params=(0,f.fromNullableMapping)(e.nullableParams,e.params)}get url(){return u(this,o,"f").url}get method(){return u(this,o,"f").method}get headers(){return u(this,o,"f").headers}get user(){return void 0===u(this,r,"f")&&a(this,r,(0,d.extractHttpUserFromHeaders)(this.headers),"f"),u(this,r,"f")}get body(){return u(this,o,"f").body}get bodyUsed(){return u(this,o,"f").bodyUsed}arrayBuffer(){return s(this,void 0,void 0,(function*(){return u(this,o,"f").arrayBuffer()}))}blob(){return s(this,void 0,void 0,(function*(){return u(this,o,"f").blob()}))}formData(){return s(this,void 0,void 0,(function*(){return u(this,o,"f").formData()}))}json(){return s(this,void 0,void 0,(function*(){return u(this,o,"f").json()}))}text(){return s(this,void 0,void 0,(function*(){return u(this,o,"f").text()}))}},r=new WeakMap,o=new WeakMap,i=new WeakMap},681:function(e,t,n){var r,o=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))},i=this&&this.__classPrivateFieldSet||function(e,t,n,r,o){if("m"===r)throw new TypeError("Private method is not writable");if("a"===r&&!o)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof t?e!==t||!o:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===r?o.call(e,n):o?o.value=n:t.set(e,n),n},s=this&&this.__classPrivateFieldGet||function(e,t,n,r){if("a"===n&&!r)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof t?e!==t||!r:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===n?r:"a"===n?r.call(e):r?r.value:t.get(e)};Object.defineProperty(t,"__esModule",{value:!0}),t.HttpResponse=void 0;const a=n(122),u=n(557);t.HttpResponse=class{constructor(e){r.set(this,void 0);const t={status:null==e?void 0:e.status,headers:null==e?void 0:e.headers};(0,u.isDefined)(null==e?void 0:e.jsonBody)?i(this,r,a.Response.json(null==e?void 0:e.jsonBody,t),"f"):i(this,r,new a.Response(null==e?void 0:e.body,t),"f"),this.cookies=(null==e?void 0:e.cookies)||[],this.enableContentNegotiation=!!(null==e?void 0:e.enableContentNegotiation)}get status(){return s(this,r,"f").status}get headers(){return s(this,r,"f").headers}get body(){return s(this,r,"f").body}get bodyUsed(){return s(this,r,"f").bodyUsed}arrayBuffer(){return o(this,void 0,void 0,(function*(){return s(this,r,"f").arrayBuffer()}))}blob(){return o(this,void 0,void 0,(function*(){return s(this,r,"f").blob()}))}formData(){return o(this,void 0,void 0,(function*(){return s(this,r,"f").formData()}))}json(){return o(this,void 0,void 0,(function*(){return s(this,r,"f").json()}))}text(){return o(this,void 0,void 0,(function*(){return s(this,r,"f").text()}))}},r=new WeakMap},21:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.extractHttpUserFromHeaders=void 0;const r=n(557);t.extractHttpUserFromHeaders=function(e){let t=null;const n=e.get("x-ms-client-principal");if(n){const o=JSON.parse(Buffer.from(n,"base64").toString("utf-8"));t=o.identityProvider?{type:"StaticWebApps",id:o.userId,username:o.userDetails,identityProvider:o.identityProvider,claimsPrincipalData:o}:{type:"AppService",id:(0,r.nonNullValue)(e.get("x-ms-client-principal-id"),"user-id"),username:(0,r.nonNullValue)(e.get("x-ms-client-principal-name"),"user-name"),identityProvider:(0,r.nonNullValue)(e.get("x-ms-client-principal-idp"),"user-idp"),claimsPrincipalData:o}}return t}},489:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generic=t.sql=t.cosmosDB=t.table=t.storageBlob=void 0;const r=n(109);function o(e){return(0,r.addBindingName)(e,"Input")}t.storageBlob=function(e){return o(Object.assign(Object.assign({},e),{type:"blob"}))},t.table=function(e){return o(Object.assign(Object.assign({},e),{type:"table"}))},t.cosmosDB=function(e){return o(Object.assign(Object.assign({},e),{type:"cosmosDB"}))},t.sql=function(e){return o(Object.assign(Object.assign({},e),{type:"sql"}))},t.generic=function(e){return o(e)}},854:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generic=t.sql=t.cosmosDB=t.eventGrid=t.eventHub=t.serviceBusTopic=t.serviceBusQueue=t.storageQueue=t.table=t.storageBlob=t.http=void 0;const r=n(109);function o(e){return(0,r.addBindingName)(e,"Output")}t.http=function(e){return o(Object.assign(Object.assign({},e),{type:"http"}))},t.storageBlob=function(e){return o(Object.assign(Object.assign({},e),{type:"blob"}))},t.table=function(e){return o(Object.assign(Object.assign({},e),{type:"table"}))},t.storageQueue=function(e){return o(Object.assign(Object.assign({},e),{type:"queue"}))},t.serviceBusQueue=function(e){return o(Object.assign(Object.assign({},e),{type:"serviceBus"}))},t.serviceBusTopic=function(e){return o(Object.assign(Object.assign({},e),{type:"serviceBus"}))},t.eventHub=function(e){return o(Object.assign(Object.assign({},e),{type:"eventHub"}))},t.eventGrid=function(e){return o(Object.assign(Object.assign({},e),{type:"eventGrid"}))},t.cosmosDB=function(e){return o(Object.assign(Object.assign({},e),{type:"cosmosDB"}))},t.sql=function(e){return o(Object.assign(Object.assign({},e),{type:"sql"}))},t.generic=function(e){return o(e)}},892:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.generic=t.cosmosDB=t.eventGrid=t.eventHub=t.serviceBusTopic=t.serviceBusQueue=t.storageQueue=t.storageBlob=t.timer=t.http=void 0;const r=n(109);function o(e){return(0,r.addBindingName)(e,"Trigger")}t.http=function(e){return o(Object.assign(Object.assign({},e),{authLevel:e.authLevel||"anonymous",methods:e.methods||["GET","POST"],type:"httpTrigger"}))},t.timer=function(e){return o(Object.assign(Object.assign({},e),{type:"timerTrigger"}))},t.storageBlob=function(e){return o(Object.assign(Object.assign({},e),{type:"blobTrigger"}))},t.storageQueue=function(e){return o(Object.assign(Object.assign({},e),{type:"queueTrigger"}))},t.serviceBusQueue=function(e){return o(Object.assign(Object.assign({},e),{type:"serviceBusTrigger"}))},t.serviceBusTopic=function(e){return o(Object.assign(Object.assign({},e),{type:"serviceBusTrigger"}))},t.eventHub=function(e){return o(Object.assign(Object.assign({},e),{type:"eventHubTrigger"}))},t.eventGrid=function(e){return o(Object.assign(Object.assign({},e),{type:"eventGridTrigger"}))},t.cosmosDB=function(e){return o(Object.assign(Object.assign({},e),{type:"cosmosDBTrigger"}))},t.generic=function(e){return o(e)}},674:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isTimerTrigger=t.isHttpTrigger=t.isTrigger=void 0,t.isTrigger=function(e){return!!e&&/trigger$/i.test(e)},t.isHttpTrigger=function(e){return"httptrigger"===(null==e?void 0:e.toLowerCase())},t.isTimerTrigger=function(e){return"timertrigger"===(null==e?void 0:e.toLowerCase())}},557:(e,t,n)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=t.copyPropIfDefined=t.nonNullValue=t.nonNullProp=void 0;const r=n(758);function o(e,t){if(null==e)throw new r.AzFuncSystemError("Internal error: Expected value to be neither null nor undefined"+(t?`: ${t}`:""));return e}t.nonNullProp=function(e,t){return o(e[t],t)},t.nonNullValue=o,t.copyPropIfDefined=function(e,t,n){null!==e[n]&&void 0!==e[n]&&(t[n]=e[n])},t.isDefined=function(e){return null!=e}},605:e=>{e.exports=require("@azure/functions-core")},122:e=>{e.exports=require("undici")},360:e=>{e.exports=require("url")},764:e=>{e.exports=require("util")}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}var r={};(()=>{var e=r;Object.defineProperty(e,"__esModule",{value:!0}),e.trigger=e.output=e.InvocationContext=e.input=e.HttpResponse=e.HttpRequest=e.app=void 0,e.app=n(752);var t=n(726);Object.defineProperty(e,"HttpRequest",{enumerable:!0,get:function(){return t.HttpRequest}});var o=n(681);Object.defineProperty(e,"HttpResponse",{enumerable:!0,get:function(){return o.HttpResponse}}),e.input=n(489);var i=n(313);Object.defineProperty(e,"InvocationContext",{enumerable:!0,get:function(){return i.InvocationContext}}),e.output=n(854),e.trigger=n(892)})(),module.exports=r})();
//# sourceMappingURL=azure-functions.min.js.map